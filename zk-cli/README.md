# CLI Tool for offloading zk proof generation

The current implementation supports the following operations:

- `save` - save the r1cs and witness to a file, and generate the proving and verification keys

```bash
zk-cli save <CIRCUIT_NAME> <R1CS_FILEPATH> <WITNESS_GENERATOR_FILEPATH>
```

### Example

**Command**

```bash
cargo run -- save sha256 test-circuits/sha256/sha256.r1cs test-circuits/sha256/sha256_js/sha256.wasm
```

**Output**

```bash
Response: SaveCircuitResponse { circuit_id: "circuit_sha256_1706294339827", circuit_name: "sha256", time_taken: 5465 }
```

- `prove` - generate the proof from the r1cs and witness

```bash
zk-cli prove <CIRCUIT_ID> <INPUT_FILEPATH> <PROOF_OUTPUT_FILEPATH>
```

### Example

**Command**

```bash
cargo run -- prove circuit_sha256_1706294339827 test-circuits/sha256/input.json test-circuits/sha256/proof.bin
```

**Output**

```bash
Response: CreateProofWithoutMpcResponse { circuit_id: "circuit_sha256_1706294339827", proof: Proof { a: (498071793091850774982818679555333756485311255358673548654120302530182399203, 1136016735329476510342430929598492059239405464600443570644253133992037045925), b: (QuadExtField(16201123471192943709002890652913953088196139179085638192299840215083499178123 + 7661856193817045474354410892358379917961382296969612969639627312326949738602 * u), QuadExtField(11727749940968147879747689210926573677381488818108937744933493916060120042583 + 1237642009120804369693292964353255765787557573751682535832640917644454968770 * u)), c: (18274303148200133484272714140145921103951951813345346474210484469581124415646, 12281507147031334740655978114789430714829141085611826307644111015459076474228) }, time_taken: 17901 }
```

- `mpc-prove` - generate the proof from the r1cs and witness using MPC

```bash
zk-cli mpc-prove <CIRCUIT_ID> <INPUT_FILEPATH> <PROOF_OUTPUT_FILEPATH>
```

### Example

**Command**

```bash
cargo run -- mpc-prove circuit_sha256_1706294339827 test-circuits/sha256/input.json test-circuits/sha256/proof.bin
```

**Output**

```bash
Response: CreateProofWithoutMpcResponse { circuit_id: "circuit_sha256_1706294339827", proof: Proof { a: (498071793091850774982818679555333756485311255358673548654120302530182399203, 1136016735329476510342430929598492059239405464600443570644253133992037045925), b: (QuadExtField(16201123471192943709002890652913953088196139179085638192299840215083499178123 + 7661856193817045474354410892358379917961382296969612969639627312326949738602 * u), QuadExtField(11727749940968147879747689210926573677381488818108937744933493916060120042583 + 1237642009120804369693292964353255765787557573751682535832640917644454968770 * u)), c: (18274303148200133484272714140145921103951951813345346474210484469581124415646, 12281507147031334740655978114789430714829141085611826307644111015459076474228) }, time_taken: 17901 }
```

- `verify` - verify the proof with the proving and verification keys

```bash
zk-cli verify <CIRCUIT_ID> <PROOF_FILEPATH> <PUBLIC_INPUT_FILEPATH>
```

### Example

**Command**

```bash
cargo run -- verify circuit_sha256_1706294339827 test-circuits/sha256/proof.bin test-circuits/sha256/public.json
```

**Output**

```bash
Response: VerifyProofResponse { circuit_id: "circuit_sha256_1706294339827", public_inputs: Some(["72587776472194017031617589674261467945970986113287823188107011979"]), verifier_key: None, proof: Some(Proof { a: (498071793091850774982818679555333756485311255358673548654120302530182399203, 1136016735329476510342430929598492059239405464600443570644253133992037045925), b: (QuadExtField(16201123471192943709002890652913953088196139179085638192299840215083499178123 + 7661856193817045474354410892358379917961382296969612969639627312326949738602 * u), QuadExtField(11727749940968147879747689210926573677381488818108937744933493916060120042583 + 1237642009120804369693292964353255765787557573751682535832640917644454968770 * u)), c: (18296404575724821858336072059485956779860719965913072410314979178700813490716, 17324311802124735498069101796568711680471649265468908505919699644485724510689) }), is_valid: true, time_taken: 73, remarks: Some("Verification completed") }
```
